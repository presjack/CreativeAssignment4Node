<!DOCTYPE html>
<html>
<head>
  <!-- angular -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js"></script>

<script>
var app = angular.module('myApp', []); 
app.controller('todoCtrl', function($scope) {
    $scope.histList = [];


    $scope.histListAdd = function() {
console.log($scope.histList);
        $scope.histList.push({
		name: $scope.storeName,
		itemsToBuy: ["soda","carrots"
		]
	});
        $scope.storeName = ""; //clear the bound field from below
 console.log($scope.histList);  
 };

    $scope.remove = function() {
        var oldList = $scope.histList;
        $scope.histList = [];
        angular.forEach(oldList, function(x) {
            if (!x.done) $scope.histList.push(x);
        });
    };
});
</script>

<meta charset="utf-8">
<title>Shopping Lists</title>

</head>

<body class="container"  ng-app="myApp" ng-controller="todoCtrl">

  <h2>My Family History List</h2>

  <form ng-submit="histListAdd()"> <!--this should add an entire list-->
    <input type="text" ng-model="storeName" size="20" placeholder="Store Name">
    <input type="submit" value="Add Store">
  </form>

  <br>

  <div class="list"> <!--I think this should be changed to repeat according to the number of stores in the object-->
    <br>
    <div class="listItem" ng-repeat="x in histList"> <!--This already repeats the list items in the store-->
      <input type="checkbox" ng-model="x.done"> <span ng-bind=""></span> <!--Bind must be set-->
	{{x.name}}    
	<div class="items-to-buy" ng-repeat="item in x.itemsToBuy">
	{{item}}
	</div>      

</div>

    <p><button ng-click="remove()">Remove marked</button></p>
  </div>

</body>
</html>
